import{__decorate as e}from"tslib";import{I18nService as t,createId as i,baseStyles as a,i18n as d,state as s,property as o,event as l,querySlotAll as r,querySlot as n,animate as p,AnimationTreeItemExpandName as c,reverseAnimation as h}from"@cds/core/internal";import{LitElement as m,html as g}from"lit";import{ifDefined as v}from"lit/directives/if-defined.js";import y from"./tree-item.element.scss.js";let u=class extends m{constructor(){super(...arguments),this.i18n=t.keys.treeview,this.role="treeitem",this.cdsMotion="on",this.ariaDisabled="false",this.ariaExpanded="false",this.ariaSelected="false",this.multiSelect=!1,this.disabled=!1,this.expanded=!1,this.expandable=!1,this.indeterminate=!1,this.loading=!1,this.selected=!1}connectedCallback(){super.connectedCallback(),this.tabIndex=-1,this.id||(this.id=i())}updated(e){super.updated(e),this.treeItemChildren.length>0&&(this.expandable=!0),this.expandable?this.ariaExpanded=this.expanded?"true":"false":this.ariaExpanded=void 0,this.multiSelect?this.ariaSelected=this.selected?"true":"false":this.ariaSelected=void 0,this.ariaDisabled=this.disabled?"true":"false"}toggleExpanded(){this.expandedChange.emit(!this.expanded)}toggleSelected(){this.selectedChange.emit(!this.selected),this.anchorLink&&this.anchorLink.click()}onSlotChange(){this.treeItemChildren.forEach((e=>{e.getAttribute("slot")||e.setAttribute("slot",i())})),this.requestUpdate()}render(){return g`<div class="private-host" cds-layout="p-l:md"><div cds-layout="horizontal align:vertical-center ${this.multiSelect?"gap:md":"gap:sm"}"><div class="lhs-container">${this.treeItemLeftHandSideTemplate}</div><div class="item-content" cds-layout="p:sm ${this.multiSelect?"p-x:md":""} align:stretch" @click="${()=>this.toggleSelected()}"><span cds-layout="horizontal align:vertical-center gap:md" cds-text="lhe">${this.multiSelect?g`<cds-internal-visual-checkbox part="checkbox" .disabled="${this.disabled}" .indeterminate="${this.indeterminate}" .selected="${this.selected}"></cds-internal-visual-checkbox>`:g``}<slot @slotchange="${this.onSlotChange}"></slot></span></div></div><div class="item-children" role="${v(this.expanded?"group":void 0)}" ?hidden="${!this.expanded}">${Array.from(this.treeItemChildren).map((e=>g`<slot name="${e.getAttribute("slot")}"></slot>`))}</div></div>`}get treeItemLeftHandSideTemplate(){return this.loading?g`<cds-progress-circle size="xs" aria-label="${this.i18n.loading}"></cds-progress-circle>`:this.expandable?g`<div @click="${()=>this.toggleExpanded()}"><cds-icon class="expand-collapse-icon" part="expand-collapse-icon" shape="angle"></cds-icon></div>`:g``}static get styles(){return[a,y]}};e([d()],u.prototype,"i18n",void 0),e([s({type:String,reflect:!0,attribute:"role"})],u.prototype,"role",void 0),e([o({type:String})],u.prototype,"cdsMotion",void 0),e([l()],u.prototype,"cdsMotionChange",void 0),e([s({type:String,reflect:!0,attribute:"aria-disabled"})],u.prototype,"ariaDisabled",void 0),e([s({type:String,reflect:!0,attribute:"aria-expanded"})],u.prototype,"ariaExpanded",void 0),e([s({type:String,reflect:!0,attribute:"aria-selected"})],u.prototype,"ariaSelected",void 0),e([o({type:Boolean,reflect:!0,attribute:"multi-select"})],u.prototype,"multiSelect",void 0),e([o({type:Boolean})],u.prototype,"disabled",void 0),e([o({type:Boolean,reflect:!0})],u.prototype,"expanded",void 0),e([o({type:Boolean,reflect:!0})],u.prototype,"expandable",void 0),e([o({type:Boolean,reflect:!0})],u.prototype,"indeterminate",void 0),e([o({type:Boolean,reflect:!0})],u.prototype,"loading",void 0),e([o({type:Boolean,reflect:!0})],u.prototype,"selected",void 0),e([r(":scope > cds-tree-item")],u.prototype,"treeItemChildren",void 0),e([n(":scope > a")],u.prototype,"anchorLink",void 0),e([l()],u.prototype,"expandedChange",void 0),e([l()],u.prototype,"selectedChange",void 0),u=e([p({expanded:{true:c,false:h(c)}})],u);export{u as CdsTreeItem};
//# sourceMappingURL=tree-item.element.js.map
